---
import "@/styles/animate.css";
import "@/styles/global.css";
import "@/styles/mobile.css";
import "@fontsource/alegreya-sans";
import "@fontsource/alegreya-sans/300.css";
import "@fontsource/alegreya-sans/400-italic.css";
import "@fontsource/alegreya-sans/500.css";
import "@fontsource/alegreya-sans/500.css";
import "@fontsource/alegreya-sans/700.css";
import "@fontsource/alegreya-sc";
import "@fontsource/alegreya-sc/400-italic.css";
import "@fontsource/alegreya-sc/500.css";
import "@fontsource/alegreya-sc/700.css";
import "@fontsource/alegreya";
import "@fontsource/alegreya/400-italic.css";
import "@fontsource/alegreya/500.css";
import "@fontsource/alegreya/500.css";
import "@fontsource/alegreya/600.css";
import "@fontsource/alegreya/700.css";
import "glightbox/dist/css/glightbox.min.css";
import BaseHead from "@/components/BaseHead.astro";
import Footer from "@/components/Footer.astro";
import IconChevronTop from "@/components/Icons/IconChevronTop.astro";
import Logo from "@/components/Icons/Logo.astro";
import Navigation from "@/components/Navigation.astro";
import Offcanvas from "@/components/Offcanvas/Offcanvas";

const {
  title,
  description,
  image = "https://res.cloudinary.com/djoqdhbiv/image/upload/v1679784726/web/social/ogimage_nrkirb.jpg",
} = Astro.props;

const pathname = new URL(Astro.request.url).pathname;
---

<html lang="es">
  <head>
    <BaseHead
      title={`${title ? `${title}` : ""} | Madejandola`}
      description={`${
        description
          ? `${description}`
          : "Sumérgete en un universo lleno de historias que nacen en los hilos de América Latina"
      }`}
      image={image}
    />
    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet" />
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"
    ></script>
  </head>
  <body class="w-full text-gray-900 bg-white pt-16 md:pt-0">
    <div id="top"></div>
    <Offcanvas client:load>
      <Navigation />
    </Offcanvas>
    <header
      class="fixed pl-2 md:relative shadow-md bg-white/90 top-0 left-0 right-0 z-50 backdrop-blur-sm"
    >
      <div class="flex justify-between items-center max-w-6xl mx-auto">
        <div class="flex w-64 items-center">
          <a href="/" rel="prefetch">
            <Logo />
            <span class="sr-only">Madejandola</span>
          </a>
        </div>
        <div class="hidden lg:flex items-center gap-3">
          <Navigation />
        </div>
      </div>
    </header>
    <div data-pagefind-ignore>
      <slot />
    </div>
    <a
      class="fixed bottom-0 z-40 right-0 m-3 bg-orange-200 p-3 rounded-full shadow-lg hover:bg-orange-400 text-orange-900 hover:text-orange-100 duration-300"
      href="#top"
    >
      <IconChevronTop />
    </a>
    <!-- <a
      class="fixed bottom-0 z-40 left-0 m-3 bg-orange-200 p-3 rounded-full shadow-lg hover:bg-orange-400 text-orange-900 hover:text-orange-100 duration-300"
      rel="prefetch"
      href="/buscar"
    >
      <IconSearch />
    </a> -->
    <Footer />

    <script>
      import GLightbox from "glightbox";
      document.addEventListener("DOMContentLoaded", () => {
        const glightbox = GLightbox({
          /* options */
        });
      });
    </script>

    <style is:global>
      html,
      body {
        padding: 0;
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
          Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
      }

      html {
        @apply scroll-smooth;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      * {
        box-sizing: border-box;
        @apply font-sans;
      }

      .btn {
        @apply print:hidden inline-flex items-center justify-center px-4 py-2 font-sans uppercase text-xs md:text-base font-bold tracking-wide duration-300 bg-gray-200 border-0 rounded-md  cursor-pointer ring-0 bg-opacity-90 hover:ring-2 hover:bg-opacity-80 focus-visible:ring-2 shadow-lg hover:shadow focus-visible:ring-offset-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus:ring-2 ring-gray-800;
      }

      .btn.red {
        @apply bg-red-500 text-white shadow-red-500/50 outline-none ring-red-600 print:text-gray-900 print:bg-gray-200;
      }

      .btn.blue {
        @apply bg-indigo-500 text-white shadow-indigo-500/50 outline-none ring-indigo-600 print:text-gray-900 print:bg-gray-200;
      }

      .btn.yellow {
        @apply bg-amber-500 text-white shadow-amber-500/50 outline-none ring-amber-600 print:text-gray-900 print:bg-gray-200;
      }

      .btn.green {
        @apply bg-emerald-500 text-white shadow-emerald-500/50 outline-none ring-emerald-600 print:text-gray-900 print:bg-gray-200;
      }

      article.prose td p {
        @apply my-0;
      }

      article.prose p {
        @apply font-sans;
      }

      .prose p {
        @apply my-6 block px-3 mx-auto max-w-2xl;
      }

      .prose img {
        @apply my-0;
      }

      article.prose h4 {
        @apply flex px-3 justify-between pt-2 font-sans text-2xl font-normal;
      }

      article.prose h3 {
        @apply max-w-3xl px-3 mx-auto font-bold w-full flex justify-between pt-2 font-sans text-2xl;
      }

      .glightbox-mobile .goverlay {
        @apply bg-black/50;
      }

      .gslide-description {
        @apply hidden;
      }

      .bgPattern {
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556l-1.414-1.414L28 0h4zM.284 0l28 28-1.414 1.414L0 2.544V0h.284zM0 5.373l25.456 25.455-1.414 1.415L0 8.2V5.374zm0 5.656l22.627 22.627-1.414 1.414L0 13.86v-2.83zm0 5.656l19.8 19.8-1.415 1.413L0 19.514v-2.83zm0 5.657l16.97 16.97-1.414 1.415L0 25.172v-2.83zM0 28l14.142 14.142-1.414 1.414L0 30.828V28zm0 5.657L11.314 44.97 9.9 46.386l-9.9-9.9v-2.828zm0 5.657L8.485 47.8 7.07 49.212 0 42.143v-2.83zm0 5.657l5.657 5.657-1.414 1.415L0 47.8v-2.83zm0 5.657l2.828 2.83-1.414 1.413L0 53.456v-2.83zM54.627 60L30 35.373 5.373 60H8.2L30 38.2 51.8 60h2.827zm-5.656 0L30 41.03 11.03 60h2.828L30 43.858 46.142 60h2.83zm-5.656 0L30 46.686 16.686 60h2.83L30 49.515 40.485 60h2.83zm-5.657 0L30 52.343 22.343 60h2.83L30 55.172 34.828 60h2.83zM32 60l-2-2-2 2h4zM59.716 0l-28 28 1.414 1.414L60 2.544V0h-.284zM60 5.373L34.544 30.828l1.414 1.415L60 8.2V5.374zm0 5.656L37.373 33.656l1.414 1.414L60 13.86v-2.83zm0 5.656l-19.8 19.8 1.415 1.413L60 19.514v-2.83zm0 5.657l-16.97 16.97 1.414 1.415L60 25.172v-2.83zM60 28L45.858 42.142l1.414 1.414L60 30.828V28zm0 5.657L48.686 44.97l1.415 1.415 9.9-9.9v-2.828zm0 5.657L51.515 47.8l1.414 1.413 7.07-7.07v-2.83zm0 5.657l-5.657 5.657 1.414 1.415L60 47.8v-2.83zm0 5.657l-2.828 2.83 1.414 1.413L60 53.456v-2.83zM39.9 16.385l1.414-1.414L30 3.658 18.686 14.97l1.415 1.415 9.9-9.9 9.9 9.9zm-2.83 2.828l1.415-1.414L30 9.313 21.515 17.8l1.414 1.413 7.07-7.07 7.07 7.07zm-2.827 2.83l1.414-1.416L30 14.97l-5.657 5.657 1.414 1.415L30 17.8l4.243 4.242zm-2.83 2.827l1.415-1.414L30 20.626l-2.828 2.83 1.414 1.414L30 23.456l1.414 1.414zM56.87 59.414L58.284 58 30 29.716 1.716 58l1.414 1.414L30 32.544l26.87 26.87z' fill='%23dddddd' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      }
    </style>
  </body>
</html>
